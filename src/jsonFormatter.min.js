(function(e,t){typeof define=="function"&&define.amd?define(t):e.JSONFormatter=t(e)})(this,function(){var e=function(e){e&&(this.options=e)};return e.prototype={htmlEncode:function(e){return e!=null?e.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},decorateWithSpan:function(e,t){return t==="string"&&/^(http|https):\/\/[^\s]+$/.test(e)?'<a href="'+e+'">'+this.htmlEncode(e)+"</a>":'<span class="'+t+'">'+this.htmlEncode(e)+"</span>"},valueToHTML:function(e,t){var n=typeof t,r="";if(t==null)r+=this.decorateWithSpan("null","null");else switch(n){case"string":case"number":case"boolean":r+=this.callDataTypeMethod(n,this.decorateWithSpan,e,t);break;case"object":r+=this.callDataTypeMethod(n,this.objectToHTML,e,t);break;case"array":t.constructor===Array&&(r+=this.callDataTypeMethod(n,this.arrayToHTML,e,t))}return r},callDataTypeMethod:function(e,t,n,r){var i=this.options&&this.options[e]?this.options[e]:!1;if(i&&typeof i=="function"){var s=i.call(this,n,r);return s?s:t.call(this,r,e)}return t.call(this,r,e)},arrayToHTML:function(e){var t='[<ul class="array">',n=!1;for(var r in e)n=!0,t+="<li>",t+=this.valueToHTML(r,e[r]),t+="</li>";return t+="</ul>]",n||(t="[ ]"),t},objectToHTML:function(e){var t='{<ul class="obj">',n=!1;for(var r in e)n=!0,t+="<li>",t+='<span class="prop">'+this.htmlEncode(r)+"</span>: ",t+=this.valueToHTML(r,e[r]),t+="</li>";return t+="</ul>}",n||(t="{ }"),t},toHtml:function(e){var t='<div id="json">';return t+=this.valueToHTML(null,e),t+="</div>",t}},e});