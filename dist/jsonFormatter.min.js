!function(a,b){"function"==typeof define&&define.amd?define(b):a.JSONFormatter=b(a)}(this,function(){var a=function(a){a&&(this.options=a)};return a.prototype={htmlEncode:function(a){return null!=a?a.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},decorateWithSpan:function(a,b){return"string"===b&&/^(http|https):\/\/[^\s]+$/.test(a)?'<a href="'+a+'">'+this.htmlEncode(a)+"</a>":'<span class="'+b+'">'+this.htmlEncode(a)+"</span>"},valueToHTML:function(a,b){var c=typeof b,d="";if(null==b)d+=this.decorateWithSpan("null","null");else switch(c){case"string":case"number":case"boolean":d+=this.callDataTypeMethod(c,this.decorateWithSpan,a,b);break;case"object":d+=this.callDataTypeMethod(c,this.objectToHTML,a,b);break;case"array":b.constructor===Array&&(d+=this.callDataTypeMethod(c,this.arrayToHTML,a,b))}return d},callDataTypeMethod:function(a,b,c,d){var e=this.options&&this.options[a]?this.options[a]:!1;if(e&&"function"==typeof e){var f=e.call(this,c,d);return f?f:b.call(this,d,a)}return b.call(this,d,a)},arrayToHTML:function(a){var b='[<ul class="array">',c=!1;for(var d in a)c=!0,b+="<li>",b+=this.valueToHTML(d,a[d]),b+="</li>";return b+="</ul>]",c||(b="[ ]"),b},objectToHTML:function(a){var b='{<ul class="obj">',c=!1;for(var d in a)c=!0,b+="<li>",b+='<span class="prop">'+this.htmlEncode(d)+"</span>: ",b+=this.valueToHTML(d,a[d]),b+="</li>";return b+="</ul>}",c||(b="{ }"),b},toHtml:function(a){var b='<div id="json">';return b+=this.valueToHTML(null,a),b+="</div>"}},a});